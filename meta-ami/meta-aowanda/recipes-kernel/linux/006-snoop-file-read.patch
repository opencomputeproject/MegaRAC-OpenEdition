--- a/drivers/soc/aspeed/aspeed-lpc-snoop.c	2021-02-04 15:42:19.263882073 -0500
+++ b/drivers/soc/aspeed/aspeed-lpc-snoop.c	2021-02-04 15:47:14.518468263 -0500
@@ -104,7 +104,7 @@
 		if (ret == -ERESTARTSYS)
 			return -EINTR;
 	}
-	ret = kfifo_to_user(&chan->fifo, buffer, count, &copied);
+	ret = kfifo_to_user2(&chan->fifo, buffer, count, &copied);
 
 	return ret ? ret : copied;
 }
